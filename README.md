1 во фронтенде использовал шаблон с этого сайта (а так же основной код контракта)
https://blog.jarrodwatts.com/create-an-nft-staking-smart-contract-with-solidity-and-therthweb-deploy

1,2 изменены стили и добавлена инструкция

2 по самому контракту

1 Заменил ERC721 на ERC721, чтобы получить tokenURI внутренней функции (_tokenId)

2 подключил chainlink
2.1 в конструктор добавлен токен, адрес оракула, стоимость использования запроса (по умолчанию 0.1) и jobid для получения uint 256

2.2 Добавлен метод requestLevelData. Здесь я обращаюсь к get запросу для получения metada nft.

2.3 Чтобы получить ссылку на метаданные, я создал функцию getUrl
, он принимает ссылку на nft с помощью команды tokenURI (см. выше)
и после этого отрезает ненужные символы (первые 7 )
нам это нужно для получения определенного id и если мы добавим к этому id https://ipfs.io/ipfs/ то получим ссылку на метаданные

2.4 При запросе данных метода через chainlink я указал уровень значения (1 - 1000) в атрибутах nft, и в зависимости от этого значения будет меняться количество монеты стейкинга.
2.5 Забыл упомянуть, что функция fulfill нужна для того, чтобы после запроса получить ответ и обработать его.

2.5 В конечном итоге, при запросе стека во фронтенде, наша функция использует chainlink для получения level и после сохраняется в fulfill и вызывает 
, что в свою очередь также вызывает calculateRewards для расчета получаймого токена

По сути, это минимально доработанный front-end проект с добавленной цепочкой в контракте.
